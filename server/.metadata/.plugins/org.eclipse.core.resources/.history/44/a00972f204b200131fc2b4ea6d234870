'''
Created on Mar 22, 2014

@author: chhe
'''
import os
import redis

from flask import Flask
from flask import Response
from flask import json
from app import app

@app.route('/')
@app.route('/index')
def index():
    return "Hello, World!"

@app.route("/clouds.json")
def clouds():
    aKey = app.redis.randomkey();
    data = app.redis.hgetall(aKey);
    dict = {};
    a = "";
  #for key in data.keys():
      #dict[key] = json.loads(data[key]);
      #a = json.dumps(data[key]);
      
    resp = Response(json.dumps(data), status=200, mimetype='application/json')
    return resp;
  #data = app.redis.lrange("rest:SPRINGFIELD BOULEVARD:11429", 0, -1)
  #resp = Response(json.dumps(data), status=200, mimetype='application/json')
  #return resp